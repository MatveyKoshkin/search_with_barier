int search_with_barier(int* values, int lenght, int target)
{
	if (lenght != 0)
	{
		int last = values[lenght - 1];
		values[lenght - 1] = target;
		int i = 0;
		for (i = 0; values[i] != target; i++)
		{
		}
		values[lenght - 1] = last;
		if (i != (lenght - 1) || target == last)
		{
			return i;
		}
	}
	return -1;
}
